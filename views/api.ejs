<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="https://cdn.glitch.global/27304cb3-6c3d-4ef6-9b04-66edbe33799b/favicon.ico">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/apistyles.css">


    <title>AFD - Signup</title>
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar" data-bs-offset="70">

    
  

    <!-- NAV -->
    <%- include('../partials/headerloggedin.ejs') %>

    <div class="apibody">
        <div class="row">
            <div class="left-menu col-sm-3">
                <div class="content-logo">
                    <div class="logo">
                        <img alt="platform by Emily van den Heever from the Noun Project" title="platform by Emily van den Heever from the Noun Project" src="https://cdn.glitch.global/27304cb3-6c3d-4ef6-9b04-66edbe33799b/logo.png?v=1666717610248" style="height: 32px; width: 32px;" />
                        <span>API Documentation</span>
                    </div>
                    <button class="burger-menu-icon" id="button-menu-mobile">
                        <svg width="34" height="34" viewBox="0 0 100 100"><path class="line line1" d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058"></path><path class="line line2" d="M 20,50 H 80"></path><path class="line line3" d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942"></path></svg>
                    </button>
                </div>
                <div class="mobile-menu-closer"></div>
                <div class="content-menu">
                    <div class="content-infos">
                        <div class="info"><b>Version:</b> 1.0.5</div>
                        <div class="info"><b>Last Updated:</b> 15th Sep, 2021</div>
                    </div>
                    <ul>
                        <li class="scroll-to-link active" data-target="content-get-started">
                            <a>GET STARTED</a>
                        </li>
                        <li class="scroll-to-link" data-target="content-get-characters">
                            <a>POST AUDIO</a>
                        </li>
                        <li class="scroll-to-link" data-target="content-errors">
                            <a>ERRORS</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="content-page col-sm-9">
                <div class="content-code"></div>
                <div class="content">
                    <div class="overflow-hidden content-section" id="content-get-started">
                        <h1>Get started</h1>
                        <pre>
                API Endpoint
            
                    https://api.afdetection.glitch.me
                            </pre>
                        <p>
                            We provide an API to allow you to implement audio fraud detection in your system. An API allows your website to communicate with ours, so that you can send phone call recordings, have them processed, and get the results. When you implement the API, you can choose if you want to save the audio files in our database or not, allowing you to preserve confidentiality of files when needed. 

                            The AFD API provides programmatic access to upload audio files. You can use this API to upload your audio files suspected of containing fraud and then recieve a score on how suspiscious it is.
                        </p>
                        <p>
                            To use this API, you need an <strong>API key</strong>. Click below to get your API key.
                        </p>
                        <button onclick="alert('Your API key is 1490178a67e7f4fb50c620fc2e52246464138e03')" class="ms-3 btn btn-brand">
                            Get API Key
                        </button>
                    </div>
                    <div class="overflow-hidden content-section" id="content-get-characters">
                        <h2>post audio</h2>
                        <pre><code class="bash">
            # Here is a curl example
            curl \
            -X POST http://api.afdetection.glitch.me/audio/post \
            -F 'secret_key=your_api_key' \
            -F 'save=true' \
            -d 'audio.mp3' \
                            </code></pre>
                        <p>
                            To get a fraud score you need to make a POST call to the following url :<br>
                            <code class="higlighted break-word">http://apiafdetection.glitch.me/audio/post</code>
                        </p>
                        <br>
                        <pre><code class="json">
            Result example :
            
            {
              
              result: 
                {
                  id: 1,
                  audio_name: "Audio",
                  success: "True",
                  suspiscious: "True"
                  suspiscious_score: "93"                  
                }
            }
                            </code></pre>
                        <h4>QUERY PARAMETERS</h4>
                        <table class="central-overflow-x">
                            <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>secret_key</td>
                                <td>String</td>
                                <td>Your API key.</td>
                            </tr>
                            <tr>
                                <td>save</td>
                                <td>Boolean</td>
                                <td>(optional) Saves the audio file in our database allowing you to listen to it on the dashboard. Defaults to false</td>
                            </tr>
                            
                            </tbody>
                        </table>
                        <h4>QUERY RESULTS</h4>
                        <table class="central-overflow-x">
                            <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>id</td>
                                <td>Integer</td>
                                <td>The id of the result. Can be used for further API calls</td>
                            </tr>
                            <tr>
                                <td>audio_name</td>
                                <td>String</td>
                                <td>Name of audio file sent</td>
                            </tr>
                            <tr>
                                <td>success</td>
                                <td>Boolean</td>
                                <td>If audio file was successfully transcribed and modelled</td>
                            </tr>
                            <tr>
                                <td>suspiscious</td>
                                <td>Bool</td>
                                <td>Whether it is likely the audio file is suspiscious</td>
                            </tr>
                            <tr>
                                <td>suspiscious_score</td>
                                <td>String</td>
                                <td>How likely it is that the audio file contains deception</audio></td>
                            </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="overflow-hidden content-section" id="content-errors">
                        <h2>Errors</h2>
                        <p>
                            The API uses the following error codes:
                        </p>
                        <table>
                            <thead>
                            <tr>
                                <th>Error Code</th>
                                <th>Meaning</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>400</td>
                                <td>
                                    Some parameters are missing. This error appears when you don't pass every mandatory parameters.
                                </td>
                            </tr>
                            <tr>
                                <td>401</td>
                                <td>
                                    Unknown or unvalid <code class="higlighted">secret_key</code>. This error appears if you use an unknown API key or if your API key expired.
                                </td>
                            </tr>
                            <tr>
                                <td>403</td>
                                <td>
                                    Unvalid <code class="higlighted">secret_key</code> for this domain. This error appears if you use an API key that does have permissions to perform the request.
                                </td>
                            </tr>
                            <tr>
                                <td>503</td>
                                <td>
                                    Server error. There was an error processing your request. If this error persists, contact support.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="content-code"></div>
            </div>
        </div>
        
                
    </div>
    
    <%- include('../partials/footerloggedin.ejs') %>

    <script src="js/api.js"></script>
</body>

</html>